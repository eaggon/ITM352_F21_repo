<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="./stylesheets/altstyle.css">

    <title>Registration Form</title>
</head>
<body>
    <script>
      document.write(`<form action = "process_registration${location.search}" method="POST">`);
    </script>
        <div class="container">
          <h1>Register</h1>
          <p>Please fill in this form to create an account.</p>
          <hr>
          
          <label for="fullName"><b>Full name</b></label>
          <input type="text" placeholder="Enter your full name" name="fullName" id="fullName" required>

          <label for="username"><b>Username</b></label>
          <input type="text" placeholder="Enter Username" name="username" id="username" required>

          <label for="email"><b>Email</b></label>
          <input type="text" placeholder="Enter Email" name="email" id="email" required>
      
          <label for="password"><b>Password</b></label>
          <input type="password" placeholder="Enter Password" name="password" id="password" required>
      
          <label for="confirmPassword"><b>Repeat Password</b></label>
          <input type="password" placeholder="Repeat Password" name="confirmPassword" id="confirmPassword" required>
          <hr>
      
          <button type="submit" class="registerbtn">Register</button>
        </div>
      
        <div class="container signin">
          <p>Already have an account? <a id="signinlink" href="login.html">Sign in</a>.</p>
        </div>
      </form>
      <script>
        let params = window.location.search;
        let urls = new URLSearchParams(params);
        let msg = urls.get("error");
        if(msg)
        {
          alert(msg.toString());
          window.history.replaceState({},document.title, "/registration.html?cart="+urls.get("cart"));
        }
        signInLink = document.getElementById("signinlink");
        signInLink.href = `./login.html${location.search}`;
      </script>
</body>
</html>